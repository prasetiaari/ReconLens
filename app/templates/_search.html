{# expects:
   - page_url: str       -> endpoint PAGE (bukan /rows)
   - q: str|None         -> nilai filter saat ini
   - page_size: int      -> rows/page aktif (dipertahankan)
   - placeholder: str    -> optional, default "filter (substring)"
   - right_buttons: str  -> optional, HTML untuk tombol sebelah kanan (akan di-|safe)
#}
<div class="flex items-center gap-3">
  <form
    class="flex items-center gap-3"
    hx-get="{{ page_url }}"
    hx-target="#page"
    hx-select="#page"
    hx-swap="outerHTML"
    hx-push-url="true"
  >
    <input type="hidden" name="page" value="1" />
    <input type="hidden" name="page_size" value="{{ page_size }}" />
    <input type="hidden" name="alive" value="1" {% if not alive %}disabled{% endif %} />
    <input
      type="text"
      name="q"
      value="{{ q or '' }}"
      placeholder="{{ placeholder or 'filter (substring)' }}"
      class="w-72 border rounded px-3 py-2"
    />
    <!-- reset ke page 1 & pertahankan page_size -->
    <input type="hidden" name="page" value="1" />
    <input type="hidden" name="page_size" value="{{ page_size }}" />

    <button type="submit" class="px-4 py-2 rounded bg-slate-900 text-white">
      Apply
    </button>
  </form>

  {% if right_buttons %}
  <div class="ml-auto flex items-center gap-2">
    {{ right_buttons | safe }}
  </div>
  {% endif %}
</div>
